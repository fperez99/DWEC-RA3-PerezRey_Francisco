<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Actividad 7</title>
    <script></script>
  </head>
  <script>
    let equiposLista = [
      "FC Barcelona",
      "Real Madrid",
      "Atletico de Madrid",
      "Sevilla FC",
    ];
    let puntosLista = ["20", "17", "12", "9"];

    function ValidarPosicion(posicion) {
      if (isNaN(posicion) || posicion > equiposLista.length + 1) {
        return false;
      }
      return true;
    }

    function Validarpuntos(puntos) {
      if (isNaN(puntos)) {
        return false;
      }
      return true;
    }

    function borrarCampos() {
      document.getElementById("Posicion").value = "";
      document.getElementById("Equipo").value = "";
      document.getElementById("Puntos").value = "";
    }

    function ValidarEquipo(Equipo) {
      let letras = "abcdefghijklmn√±opqrstuvwxyz ";
      Equipo = Equipo.toLowerCase();
      for (let i = 0; i < Equipo.length; i++) {
        if (letras.indexOf(Equipo.charAt(i)) == -1) {
          return false;
        }
      }
      return true;
    }

    function borrarTabla() {
      document
        .getElementById("liga")
        .removeChild(document.getElementById("clasificacion"));
    }

    function addElements(equiposLista, puntosLista) {
      let posicion = document.getElementById("Posicion").value;
      let equipo = document.getElementById("Equipo").value;
      let puntos = document.getElementById("Puntos").value;
      posicion--;

      if (
        ValidarPosicion(posicion) &&
        ValidarEquipo(equipo) &&
        Validarpuntos(puntos)
      ) {
        if (posicion == equiposLista.length) {
          equiposLista.push(equipo);
          puntosLista.push(puntos);
        } else {
          equiposLista.splice(posicion, 1, equipo);
          puntosLista.splice(posicion, 1, puntos);
        }
        borrarCampos();
        borrarTabla();
        mostrarTabla(equiposLista, puntosLista);
      } else {
        borrarCampos();
        return alert(
          "Algunos de los datos introducidos en un campo son incorrectos"
        );
      }
    }
  </script>
  <body onload="mostrarTabla(equiposLista,puntosLista)">
    <section>
      <article>
        <table id="liga">
          <thead>
            <tr>
              <th>Posicion</th>
              <th>Equipo</th>
              <th>Puntos</th>
            </tr>
          </thead>
        </table>
        <from>
          <fieldset>
            <label>Posicion</label>
            <input type="text" id="Posicion" />
            <label>Equipo</label>
            <input type="text" id="Equipo" />
            <label>Puntos</label>
            <input type="text" id="Puntos" />
            <input
              type="button"
              value="Aplicar"
              onclick="addElements(equiposLista,puntosLista)"
            />
          </fieldset>
        </from>
      </article>
    </section>
  </body>
</html>
